<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- SOFIA SANS FONT -->
<link href="https://fonts.googleapis.com/css2?family=Sofia+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<title>MNL to HAN</title>
<style>

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family:'Sofia Sans', sans-serif;
  background: #ffffff; /* white background */
  overflow-x: hidden;
  color: #000000; 
}

/* Hamburger Menu */
.hamburger {
  display: none;
  position: absolute;
  top: 15px;
  left: 15px;
  font-size: 28px;
  cursor: pointer;
  z-index: 100;
  color: #000000;
}

/* Gift Box Container */
.gift-box {
  display: flex;
  flex-wrap: wrap;
  max-width: 1350px;
  margin: 20px auto;
  border: 4px solid #000000;
  border-radius: 10px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.2);
  background-color: #f8f8f8;
  overflow: visible;
}

/* Menu */
.menu {
    background-color: #e0e0e0; /* gray */
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    border-right: 2px dotted #b0b0b0;
    min-width: 150px;
}
.menu a {
    text-decoration: none;
    color: #333333; /* dark gray */
    font-size: 18px;
    transition: color 0.3s;
}
.menu a:hover { color: #000000; }

/* Middle Column */
.gift-header {
    flex: 2 1 400px;
    border-left: 2px dotted #b0b0b0;
    border-right: 2px dotted #b0b0b0;
    padding: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    max-width: 100%;
}
.title {
  font-size: clamp(22px, 5vw, 36px);
  font-weight: 700;
  color: #000000;
  text-shadow: 1px 1px #888888;
  margin-bottom: 15px;
  text-align: center;
}
.small-title {
  font-size: clamp(16px, 2vw, 20px);
  color: #000000; 
  border: 2px solid #888888; 
  box-shadow: 2px 2px #cccccc; 
  background-color: #ffffff;
  margin-bottom: 15px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  width: 100%;
  text-align: center;
}
.gift-header img {
  max-width: 80%;
  height: auto;
  border: 2px solid #888888;
  box-shadow: 2px 2px #cccccc;
  margin-bottom: 12px;
  cursor: pointer;
  transition: transform 0.2s;
}
#envelopeBtn {
  font-size: 60px;
  cursor: pointer;
  background: none;
  border: none;
  margin-top: 10px;
  transition: transform 0.3s;
  position: relative;
}
#envelopeBtn:hover { transform: scale(1.2); }
.speech-bubble {
  position: absolute;
  top: -50px;
  background: #ffffff;
  border: 2px solid #888888;
  color: #000000;
  box-shadow: 2px 2px #cccccc;
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
}
.speech-bubble::after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  border-width: 8px;
  border-style: solid;
  border-color: #fff transparent transparent transparent;
}

/* Sidebar */
.sidebar {
    flex: 1 1 250px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 15px;
    overflow-y: auto;
    max-height: calc(100vh - 40px);
}
.sidebar .square-feature {
  flex: none;  /* prevent shrinking */
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  transition: transform 0.2s;
  width: 100%;
  flex: none;
  background-color: #f8f8f8;
  border: 2px solid #888888;
  box-shadow: 2px 2px #cccccc;
}
.square-feature:hover { transform: scale(1.02); }
.square-feature h3 { font-size: 18px; color: #000000; margin-bottom: 8px; }
.square-feature p { font-size: 16px; color: #5a3e36; margin-bottom: 8px; }
/* Cute Buttons */
.square-feature button,
#nextReason {
  font-family: 'Quicksand', sans-serif;
  font-weight: 600;
  padding: 10px 20px;
  border: none;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, #555555, #222222); /* dark gradient for buttons */
  color: #ffffff;
  box-shadow: 0 5px 15px rgba(0,0,0,0.4);
}

/* ‚ö° Make #nextReason static */
#nextReason:hover {
    transform: none;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
}
#nextReason::after {
    display: none;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  z-index: 10;
  inset: 0;
  background: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
  padding: 20px;
}

/* Modal box */
.modal-content {
  background: #fff;
  border-radius: 20px;
  padding: 30px 25px 25px;
  width: 90%;
  max-width: 520px;

  /* ‚ú® IMPORTANT */
  height: auto;
  max-height: 90vh;
  
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;

  border: 3px dashed #888;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  animation: pop .35s ease;
}

/* Reason text */
#reason {
  font-size: 1.25rem;
  line-height: 1.5;
  color: #9b1c75;
  font-weight: 600;

  /* ‚ú® remove giant spacing */
  min-height: unset;
  margin: 0;
}


/* Modal Animations */
@keyframes pop { 
  from { transform: scale(0.7); opacity: 0; } 
  to { transform: scale(1); opacity: 1; } 
}
@keyframes float {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-5px); }
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Close Button Cute */
.close {
  font-size: 26px;
  font-weight: bold;
  color: #000000;
  text-shadow: 1px 1px 0 #fff;
  cursor: pointer;
  transition: transform 0.3s;
}
.close:hover { transform: rotate(90deg) scale(1.2); color: #444444; }

/* üå∏ IMAGE SLIDER (3:4 single image view) */
.image-slider{
  position: relative;
  width: 80%;
  max-width: 420px; /* controls size of portrait */
  margin: 0 auto;
  overflow: hidden;
}

/* Track */
.slider-track{
  display:flex;
  overflow-x:auto;
  scroll-behavior:smooth;
  scroll-snap-type:x mandatory;
}

/* Hide scrollbar */
.slider-track::-webkit-scrollbar{
  display:none;
}

/* Each slide */
.slider-track img{
  flex: 0 0 100%;
  width: 100%;
  aspect-ratio: 3 / 4;   /* ‚≠ê forces 3x4 */
  object-fit: cover;     /* fills frame nicely */
  
  border:2px solid #888;
  box-shadow:2px 2px #ccc;
  border-radius:8px;

  scroll-snap-align:center;
}
  
  /* Arrow buttons (desktop) */
  .slide-btn{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:rgba(0,0,0,0.5);
    color:white;
    border:none;
    font-size:22px;
    width:40px;
    height:40px;
    border-radius:50%;
    cursor:pointer;
    z-index:5;
  }
  
  .slide-btn.left{ left:5px; }
  .slide-btn.right{ right:5px; }
  
  /* Hide arrows on phone */
  @media(max-width:768px){
    .slide-btn{
      display:none;
    }
  }

  /* Justify text in message modal and add scroll if content overflows */
#messageModal .modal-content {
  text-align: justify;        /* Justify text */
  overflow-y: auto;           /* Enable vertical scroll if content is too tall */
  padding: 25px 25px 25px 25px; 
}

/* Optional: smooth scrollbar styling */
#messageModal .modal-content::-webkit-scrollbar {
  width: 8px;
}
#messageModal .modal-content::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}
#messageModal .modal-content::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 4px;
}

  

/* Music Player */
#player { width: 100%; border-radius: 12px; border: 2px solid #888888; box-shadow: 2px 2px #cccccc; overflow: hidden; }
#album-art img { width: 100%; border-bottom: 2px solid #ffb6c1; }
#player-controls { display: flex; justify-content: center; gap: 15px; padding: 8px; }
#player-controls .button { font-size: 20px; color: #000000; }
#player-controls .button:hover { color: #444444; }
#track-name, #album-name { padding: 6px; font-size: 14px; }

.modal-content h2 { color: #010101; margin-bottom: 12px; }
.modal-content p { font-size: 16px; line-height: 1.4; }
.close { font-size: 22px; cursor: pointer; }
.close:hover { color: #8c8c8c; }

/* Animations */
@keyframes pop { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* Responsive */
@media (max-width: 1024px) {
  .gift-box { flex-direction: column; }
  .menu { flex-direction: row; overflow-x: auto; border-bottom: 2px dotted #ffb6c1; border-right: none; }
  .sidebar { flex-direction: column; width: 100%; max-height: none; overflow: visible; }
  .sidebar .square-feature { width: 100%; min-width: auto; }
}
@media (max-width: 768px) {
  .hamburger { display: block; }
  .menu { display: none; position: absolute; top: 0; left: 0; width: 70%; height: 100%; z-index: 99; flex-direction: column; background-color: #ffe4ec; padding-top: 60px; border-right: none; border-bottom: none; }
  .menu.show { display: flex; }
  .gift-header img { max-width: 95%; }
  .small-title { height: auto; padding: 10px; }
}
</style>
</head>
<body>

<div class="hamburger" id="hamburger">‚ò∞</div>

<div class="gift-box">
  <!-- Left Menu -->
  <div class="menu" id="menu">
    <a href="main.html">‚¨Ö Back to Main</a>
    <a href="#">RARI</a>
    <a href="#">Flight No 646</a>
    <a href="#">Seat 4A</a>
  </div>  

  <!-- Middle Column -->
  <div class="gift-header">
    <div class="title">MNL to HAN</div>
    <div class="small-title">05/24/2025</div>
    <!-- üå∏ IMAGE SLIDER -->
    <div class="image-slider">

        <button class="slide-btn left" id="slideLeft">‚ùÆ</button>
    
        <div class="slider-track" id="sliderTrack">
        <img src="./1.1.JPG" alt="">
        <img src="./1.2.jpg" alt="">
        <img src="./1.3.jpg" alt="">
        <img src="./1.4.JPG" alt="">
        </div>
    
        <button class="slide-btn right" id="slideRight">‚ùØ</button>
    
    </div>
    
    <div style="position: relative; display: inline-block; margin-top: 20px;">
      <div class="speech-bubble">Open the envelope!</div>
      <button id="envelopeBtn">üíå</button>
    </div>
  </div>

  <!-- Right Sidebar -->
  <div class="sidebar">
    <div class="square-feature">
      <h3> Our Song</h3>
      <div id="player">
        <div id="album-art"><img id="album-img" src="" /></div>
        <div id="track-name"></div>
        <div id="album-name"></div>
        <div id="progress-container"><div id="progress"></div></div>
        <div id="timer"><span id="current-time">0:00</span><span id="duration">0:00</span></div>
        <div id="player-controls">
          <div class="button" id="play-previous"><i class="fas fa-backward"></i></div>
          <div class="button" id="play-pause-button"><i class="fas fa-play"></i></div>
          <div class="button" id="play-next"><i class="fas fa-forward"></i></div>
        </div>
      </div>
    </div>

    <div class="square-feature">
        <h3>Claim your free bonus ticket?</h3>
        <button id="reasonsBtn">Redeem Now</button>
      </div>

  </div>
</div>

<!-- Modal -->
<div class="modal" id="messageModal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <p>I never realized that wanting to be next to you every second of every day would lead to
      this. I never realized that sitting hip to hip in the backseat (meant for an entire family) would turn
      us into something more than friends. Me, someone who dislikes physical affection, asking you to
      hug me to sleep. Me, who hates sleeping next to people, begging you to leave your own twin bed
      just to sleep next to me.
      <br>
      <br>
      With you, closeness never felt like too much. Sometimes me wanting to be closer to you makes
      me do things that push you further away. I know now, everything just takes time. Thank you for
      being patient with me.</p>
  </div>
</div>

<!-- Modal for Reasons Why -->
<div class="modal" id="reasonsModal">
  <div class="modal-content" style="max-width:400px; max-height:300px; padding:15px 20px; gap:10px;">
    <span class="close" id="closeReasons">&times;</span>
    <!-- IMAGE for reasons -->
    <img id="reasonImg" src="./heart-surprise.png" alt="Reason" style="max-width:100%;">
    <button id="nextReason">FOR YOU</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://hammerjs.github.io/dist/hammer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-hammerjs@2.0.0/jquery.hammer.min.js"></script>
<script>

  const reasons = [
  "./1.jpg"
];

let currentIndex = 0;
const reasonImg = document.getElementById('reasonImg');
const nextReasonBtn = document.getElementById('nextReason');

function showReason(index) {
  reasonImg.src = reasons[index];
}
  
  // Modal logic
  const reasonsModal = document.getElementById('reasonsModal');
  document.getElementById('reasonsBtn').onclick = () => reasonsModal.style.display = 'flex';
  document.getElementById('closeReasons').onclick = () => reasonsModal.style.display = 'none';
  window.addEventListener('click', (e) => { 
    if(e.target === reasonsModal) reasonsModal.style.display = 'none'; 
  });

  /// Spawn multiple hearts like confetti
function spawnHeartsConfetti(x, y) {
  for(let i = 0; i < 10; i++){
      const heart = document.createElement('div');
      heart.textContent = '‚ù§Ô∏è';
      heart.style.position = 'absolute';
      heart.style.left = x + (Math.random()*40 - 20) + 'px';
      heart.style.top = y + 'px';
      heart.style.fontSize = 12 + Math.random()*12 + 'px';
      heart.style.opacity = 1;
      heart.style.pointerEvents = 'none';
      heart.style.transition = 'all 1s ease-out';
      document.body.appendChild(heart);

      // Animate upwards and sideways
      setTimeout(() => {
          heart.style.top = (y - 80 - Math.random()*20) + 'px';
          heart.style.left = (parseFloat(heart.style.left) + (Math.random()*40-20)) + 'px';
          heart.style.opacity = 0;
      }, 50);

      setTimeout(() => heart.remove(), 1200);
  }
}

  
  // Next reason button click
  nextReasonBtn.addEventListener('click', (e) => {
    currentIndex = (currentIndex + 1) % reasons.length;
    showReason(currentIndex);
    // spawn heart at button center
    const rect = e.target.getBoundingClientRect();
    spawnHearts(rect.left + rect.width/2, rect.top);
  });

  // Show first reason
  showReason(currentIndex);

const hamburger = document.getElementById("hamburger");
const menu = document.getElementById("menu");
hamburger.addEventListener("click", () => menu.classList.toggle("show"));

const modal = document.getElementById("messageModal");
const btn = document.getElementById("envelopeBtn");
const closeBtn = document.getElementById("closeModal");
btn.onclick = () => modal.style.display = "flex";
closeBtn.onclick = () => modal.style.display = "none";
window.onclick = (e) => { if(e.target === modal) modal.style.display = "none"; }

// Music Player
const playlist = [
  { name: "Lovesong", album: "Lovesong", src: "./Lovesong.mp3", img: "https://i.scdn.co/image/ab67616d0000b273ba45d6775fff9d42bdf6d166" },
];
let currentTrack = 0, isPlaying = false;
const audio = new Audio();
const trackName = document.getElementById("track-name");
const albumName = document.getElementById("album-name");
const albumImg = document.getElementById("album-img");
const playPauseBtn = document.getElementById("play-pause-button");
const progressContainer = document.getElementById("progress-container");
const progress = document.getElementById("progress");
const currentTimeEl = document.getElementById("current-time");
const durationEl = document.getElementById("duration");

function loadTrack(index) {
  const track = playlist[index];
  audio.src = track.src;
  trackName.textContent = track.name;
  albumName.textContent = track.album;
  albumImg.src = track.img;
}
function playTrack() {
  audio.play().then(() => { isPlaying = true; playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>'; })
  .catch(err => { console.log("Autoplay blocked until user interacts:", err); });
}
function pauseTrack() { audio.pause(); isPlaying = false; playPauseBtn.innerHTML = '<i class="fas fa-play"></i>'; }
playPauseBtn.addEventListener("click", () => { isPlaying ? pauseTrack() : playTrack(); });
document.getElementById("play-next").addEventListener("click", () => { currentTrack = (currentTrack + 1) % playlist.length; loadTrack(currentTrack); playTrack(); });
document.getElementById("play-previous").addEventListener("click", () => { currentTrack = (currentTrack - 1 + playlist.length) % playlist.length; loadTrack(currentTrack); playTrack(); });

audio.addEventListener("timeupdate", () => {
  const { currentTime, duration } = audio;
  if (duration) {
    progress.style.width = `${(currentTime / duration) * 100}%`;
    currentTimeEl.textContent = formatTime(currentTime);
    durationEl.textContent = formatTime(duration);
  }
});
progressContainer.addEventListener("click", (e) => { const width = progressContainer.clientWidth; const clickX = e.offsetX; audio.currentTime = (clickX / width) * audio.duration; });
function formatTime(sec) { const minutes = Math.floor(sec / 60); const seconds = Math.floor(sec % 60); return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`; }

loadTrack(currentTrack);
window.addEventListener("load", playTrack);


// Close modals when clicking outside
window.onclick = function(e) {
  if(e.target === modal) modal.style.display='none';
}

/* üå∏ IMAGE SLIDER CONTROLS */
const track = document.getElementById("sliderTrack");
const leftBtn = document.getElementById("slideLeft");
const rightBtn = document.getElementById("slideRight");

leftBtn.onclick = () => {
  track.scrollBy({ left: -track.clientWidth, behavior: "smooth" });
};

rightBtn.onclick = () => {
  track.scrollBy({ left: track.clientWidth, behavior: "smooth" });
};

</script>
</body>
</html>
